![가상_메모리_구조.png](img%2F%EA%B0%80%EC%83%81_%EB%A9%94%EB%AA%A8%EB%A6%AC_%EA%B5%AC%EC%A1%B0.png)

### 가상 메모리의 기본
- OS 가 요청받은 메모리를 프로세스에 할당
  - 메모리를 하나씩 넘기는 것은 아니고 블록 단위로 전달한다. (= 페이지)
- 프로세스의 입장에서는 사실 메모리의 절대주소는 관심 밖이며 그저 사용가능한 메모리만 있으면 된다.
- 그래서 실제 주소와는 다른 OS가 관리하고 있는 메모리 번지수로 변환해서 반환한다. (= 커널 메모리 추상화, 메모리 가상화)


### 페이지 캐시
- 프로세스는 디스크에 직접 접근이 불가능. 대신 OS에게 요청해서 먼저 OS 단에서 디스크 상의 데이터를 페이지 단위로 메모리에 읽어온 후, 요청한 프로세스에 가상 어드레스 주소를 알려준다.
- 해당 페이지는 읽기가 끝나도 바로 해제되지 않는다. 메모리 상에 남아있게 되는데 이게 바로 페이지 캐시의 기본이다.


### VFS (Virtual File System)

- 하위에 다양한 파일 시스템이 있더라도 동일한 인터페이스로 접근가능
- 페이지 캐시 구조 또한 가지고 있음 (= 반드시 동일한 구조로 캐싱)

### 파일캐시

- 파일 또한 동일하게 페이지 단위로 캐시
- 파일을 inode 번호로 식별
  - 해당 파일의 어느 위치부터 시작할지는 offset 관리 
  - 즉, `inode + offset` 값으로 캐싱
  - Radix Tree?